@use "~@/styles/variables.scss" as v;

.wrapper {
  margin: 2rem auto 0 auto;
  width: 100%;
  background: v.$color-background;
  border-radius: 0.75rem;
  box-shadow: 0 2px 16px 0 rgba(0,0,0,0.14);
  padding: 2rem;
  color: v.$color-text-primary;
}

.heading {
  font-size: 1.7rem;
  font-weight: 600;
  margin-bottom: 1.25rem;
}

/* Toolbar */
.toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 1.25rem;
  margin-bottom: 0.75rem;
  gap: 1rem;
}
.toolbarLeft {
  display: flex;
  align-items: center;
  gap: 1rem;
}
.toolbarRight {
  margin-left: auto;
}

/* Keep content away from window edges without causing horizontal scroll */
.tableOuterPad {
  width: 100%;
  padding: 0 1.25rem;
  box-sizing: border-box;
}

.tableWrap {
  width: 100%;
  overflow-x: hidden;
}

.table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1rem;
  table-layout: auto;
  th, td {
    border: 1px solid v.$color-border;
    padding: 0.9rem 1.1rem;
    text-align: left;
    background: v.$color-background;
    color: v.$color-text-primary;
    font-size: 1rem;
    line-height: 1.5;
    vertical-align: top;
    word-break: break-word;
    white-space: pre-line;
  }
  th {
    background: #23233a;
    color: v.$color-text-primary;
    font-weight: 700;
    letter-spacing: 0.02em;
    user-select: none;
  }
  tr {
    &:hover {
      background: #23233a;
    }
  }
}

/* Buttons */
.button {
  padding: 0.48rem 1.1rem;
  border-radius: 0.5rem;
  border: none;
  background: #23233a;
  color: v.$color-text-primary;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.98rem;
  margin: 0 0.15rem;
  transition: background 0.15s, color 0.15s, transform 0.05s;
  outline: none;
  &:hover, &:focus {
    background: rgba(255,255,255,0.10);
    color: v.$color-text-primary;
  }
  &:active {
    transform: translateY(1px);
  }
}
.primary {
  background: v.$color-success;
  color: #121212;
  &:hover, &:focus {
    background: #A4E8A0;
    color: #23233a;
  }
}
.neutral { /* inherits base */ }
.danger {
  background: v.$color-error;
  color: #121212;
  &:hover, &:focus {
    background: #ee888e;
    color: #23233a;
  }
}
.add {
  @extend .button;
  @extend .primary;
}
.reload {
  @extend .button;
  @extend .primary;
}

/* SSL switch */
.switch {
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  user-select: none;
  .track {
    width: 2.2rem;
    height: 1.2rem;
    background: v.$color-border;
    border-radius: 1.2rem;
    position: relative;
    transition: background 0.18s;
    margin-right: 0.5rem;
  }
  .thumb {
    position: absolute;
    top: 0.16rem;
    left: 0.16rem;
    width: 0.88rem;
    height: 0.88rem;
    border-radius: 50%;
    background: v.$color-success;
    transition: left 0.18s, background 0.18s;
  }
  input:checked + .track {
    background: v.$color-success;
  }
  input:checked + .track .thumb {
    left: 1.16rem;
    background: #23233a;
  }
  input {
    display: none;
  }
  .label {
    color: v.$color-text-primary;
    margin-left: 0.35rem;
    font-size: 1rem;
    font-weight: 500;
  }
}

/* Edit/Create modal */
.modalOverlay {
  position: fixed;
  z-index: 1100;
  inset: 0;
  background: rgba(0,0,0,0.22);
  display: flex;
  align-items: center;
  justify-content: center;
}

.modal {
  background: v.$color-background;
  border-radius: 0.95rem;
  box-shadow: 0 4px 32px 0 rgba(0,0,0,0.22);
  padding: 2rem 2rem 1.25rem;
  width: clamp(420px, 92vw, 680px);
  display: flex;
  flex-direction: column;
  gap: 1.1rem;
  color: v.$color-text-primary;

  label {
    display: flex;
    flex-direction: column;
    gap: 0.45rem;
    font-size: 1.05rem;
    font-weight: 500;
    align-items: flex-start;

    input, select, textarea {
      border-radius: 0.5rem;
      border: 1px solid v.$color-border;
      padding: 0.6rem 0.8rem;
      background: #23233a;
      color: v.$color-text-primary;
      font-size: 1rem;
      width: 100%;
      outline: none;
      transition: border 0.18s;
      text-align: left;
      box-sizing: border-box;
      &:focus {
        border-color: v.$color-success;
      }
    }

    textarea {
      min-height: 3.25rem;
      max-height: 60vh;
      resize: none;
      overflow-y: hidden;
      white-space: pre-line;
      word-break: break-word;
    }
  }
}

.modalActions {
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
  gap: 0.5rem;
  margin-top: 0.5rem;
}

/* Logs modal â€” wider, near full window width, wraps, vertical scroll only */
.logsModal {
  background: v.$color-background;
  border-radius: 0.95rem;
  box-shadow: 0 4px 32px 0 rgba(0,0,0,0.22);
  width: clamp(520px, 96vw, 1600px);
  max-height: 92vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  color: v.$color-text-primary;
}

.logsHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  padding: 0.9rem 1rem;
  border-bottom: 1px solid v.$color-border;
  background: #1b1b2b;
}

.logsContainer {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.92rem;
  line-height: 1.4;
  padding: 1rem;
  overflow-y: auto;   /* vertical scroll allowed */
  overflow-x: hidden; /* no horizontal scroll */
  white-space: pre-wrap; /* wrap lines and keep newlines */
  word-break: break-word;
  max-height: calc(92vh - 58px); /* header height accounted */
  background: #191927;
}

/* Log colouring */
.logError { color: v.$color-error; }
.logWarn  { color: v.$color-warning; }
.logNotice { color: #8be9fd; }
.logInfo  { color: v.$color-text-secondary; }
.logDebug { color: #8ab6ff; }
.logText  { color: v.$color-text-primary; }

/* Toast */
.toastViewport {
  position: fixed;
  z-index: 1200;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  pointer-events: none;
}
.toast {
  pointer-events: auto;
  border-radius: 8px;
  padding: 0.6rem 0.9rem;
  font-weight: 600;
  font-size: 0.95rem;
  box-shadow: 0 6px 24px rgba(0,0,0,0.35);
  border: 1px solid rgba(255,255,255,0.08);
  animation: toast-in 140ms ease-out, toast-out 200ms ease-in 3s forwards;
}
.toastSuccess { background: #1f3d2a; color: #c7f7c0; }
.toastError { background: #472228; color: #ffd7db; }
.toastInfo { background: #283149; color: #d6e2ff; }

@keyframes toast-in {
  from { transform: translate(-50%, 10px); opacity: 0; }
  to { transform: translate(-50%, 0px); opacity: 1; }
}
@keyframes toast-out {
  to { opacity: 0; transform: translate(-50%, 10px); }
}